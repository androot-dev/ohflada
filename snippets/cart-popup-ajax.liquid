<div  class="popup-cart-ajax">

 <div data-ajax-cart-bind-state="cart.item_count" > 
  <!-- Cart item count appears here --> 
 </div>

    <div class="title-section"> 
       <span clas="p">Was added to cart: </span>
       <h1 class="title-product text-white"></h1>
    </div>
    <div class="container-image">
      <img src="" alt="product in cart" />
    </div>
<a href="{{ routes.cart_url }}" class="btn">View My Cart</a>
  <form action="{{ routes.cart_url }}" method="post" class="my-cart">
   <button type="submit" name="checkout">
      Checkout â€” {{ cart.total_price | money_with_currency }}
    </button> 
  </form>

<button class="close-popup-cart" data-ajax-cart-toggle-class-button="show-popup-cart | remove">
  <i class="fa fa-times"></i>
</button>


  
</div>
<script type="module">
 import { subscribeToCartAjaxRequests } from '{{ "liquid-ajax-cart-v1.10.3.js" | asset_url }}';
   function add_poppu_info(product, image){
    let popup = document.querySelector(".popup-cart-ajax");
      if(product != "Fail"){
        popup.querySelector(".title-product").textContent = product.title;
        popup.querySelector(".container-image img").src = product.image
      }else{
        
       /* Fail */
      }
      
    }


      subscribeToCartAjaxRequests(( requestState, subscribeToResult ) => {
      
      
        if ( requestState.requestType === 'add' ) {
          
        
          subscribeToResult( requestState => {
      
           
            if ( requestState.responseData?.ok ) {
      
           
              let product = requestState.responseData.body;
              if ( requestState.responseData.body.items?.length === 1 ) {
                product = requestState.responseData.body.items[0];
              }

              add_poppu_info( product ? product : "Fail");
            }
          });
        }
      })
        
</script>

<style>
  .popup-cart-ajax{
   position: fixed;
    top: 20px;
    right: 20px;
    width: 300px;
    background: var(--primary-gradient);
    height: 250px; 
    display: flex;
    justify-content: center;
    z-index: 500;
    border-radius: var(--radius);
    padding: 20px;
    align-items: center;
    flex-direction: column;
    transform:translateY(-225%);
    transition: all .3s ease-in-out;
  }
 
    body.show-popup-cart .popup-cart-ajax{
      transform:translateY(0);
    }

  .popup-cart-ajax .container-image {
    width: 90px;
    height: 90px;
    overflow: hidden;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
   .popup-cart-ajax .container-image img{
     width:100%;
     height:100%;
   }
  .popup-cart-ajax  .close-popup-cart{
    border: none;
    background: #ae6b71;
    color: white;
    border-radius: 50%;
    right: 20px;
    position: absolute;
    top: 20px;
    height: 30px;
    width: 30px;
    transition: all .2s ease-in-out;
  }
   .popup-cart-ajax  .close-popup-cart:hover{
     background:var(--danger);
   }
  

</style>